<% # -*- coding: UTF-8 -*- %><!DOCTYPE html>
<%
   # Copyright 2012-2013 Mikko Apo
   #
   # Licensed under the Apache License, Version 2.0 (the "License");
   # you may not use this file except in compliance with the License.
   # You may obtain a copy of the License at
   #
   #    http://www.apache.org/licenses/LICENSE-2.0
   #
   # Unless required by applicable law or agreed to in writing, software
   # distributed under the License is distributed on an "AS IS" BASIS,
   # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   # See the License for the specific language governing permissions and
   # limitations under the License.
%><html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Components</title>
    <link rel="stylesheet" type="text/css" href="<%= res_url("css/ki.scss") %>"/>
    <% if params[:test] %>
        <link rel="stylesheet" href="<%= res_url("js-test/mocha.css") %>"/>
    <% end %>
</head>
<body>

<script type="text/javascript" src="<%= res_url("js/jquery-1.9.0.js") %>"></script>
<script type="text/javascript" src="<%= res_url("js/Bacon.coffee") %>"></script>
<script type="text/javascript" src="<%= res_url("views/ki-flow.coffee") %>"></script>
<script type="text/javascript" src="<%= res_url("views/repository.coffee") %>"></script>

<script id="t-components-top" type="text/template">
    <a class="components">Components</a>
    <hr/>
    <h3>Components</h3>

    <p id="component-list">
    </p>
</script>

<script id="t-components" type="text/template">
    <p>
        Component: <a class="name">TEST</a>
    </p>
</script>

<script id="t-component" type="text/template">
    <a class="components">Components</a>
    <span> &gt; </span>
    <span class="componentName">componentName</span>
    <hr/>
    <h3>Versions</h3>

    <p id="version-list">
    </p>
</script>

<script id="t-version" type="text/template">
    - Version: <p class="id">
</p>
</script>

<div id="content"></div>

<% if params[:test] %>
    <div id="mocha"></div>
    <script type="text/javascript" src="<%= res_url("js-test/mocha.js")%>"></script>
    <script type="text/javascript" src="<%= res_url("js-test/chai.js")%>"></script>
    <script type="text/javascript">mocha.setup('bdd');chai.should();</script>
    <script type="text/javascript" src="<%= res_url("views/repository_js_test.coffee")%>"></script>
    <script type="text/javascript">mocha.run();</script>
<% end %>
</body>
</html>


